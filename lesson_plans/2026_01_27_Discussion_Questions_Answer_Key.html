<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>discussion_questions_answer_key</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="2026_01_27_Discussion_Questions_Answer_Key_files/libs/clipboard/clipboard.min.js"></script>
<script src="2026_01_27_Discussion_Questions_Answer_Key_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="2026_01_27_Discussion_Questions_Answer_Key_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="2026_01_27_Discussion_Questions_Answer_Key_files/libs/quarto-html/popper.min.js"></script>
<script src="2026_01_27_Discussion_Questions_Answer_Key_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="2026_01_27_Discussion_Questions_Answer_Key_files/libs/quarto-html/anchor.min.js"></script>
<link href="2026_01_27_Discussion_Questions_Answer_Key_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="2026_01_27_Discussion_Questions_Answer_Key_files/libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="2026_01_27_Discussion_Questions_Answer_Key_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="2026_01_27_Discussion_Questions_Answer_Key_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="2026_01_27_Discussion_Questions_Answer_Key_files/libs/bootstrap/bootstrap-81267100e462c21b3d6c0d5bf76a3417.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<section id="discussion-questions-answer-key-axioms-planimeters" class="level1">
<h1>Discussion Questions Answer Key: Axioms &amp; Planimeters</h1>
<p><strong>Session:</strong> Tuesday, Jan 27, 2026 <strong>Topic:</strong> Action vs.&nbsp;Perception &amp; The Axioms <strong>Readings:</strong> Blau &amp; Wagman Ch 3 (Starting Over) &amp; Ch 4 (What Is Ecological Theory?)</p>
<hr>
<section id="how-to-use-this-answer-key" class="level2">
<h2 class="anchored" data-anchor-id="how-to-use-this-answer-key">How to Use This Answer Key</h2>
<p><strong>Purpose:</strong> These are the theoretical answers grounded in Blau &amp; Wagman’s arguments. Use them to: 1. <strong>Guide discussion</strong> (not lecture these answers) 2. <strong>Recognize good student responses</strong> (they might not use exact language, but concepts should align) 3. <strong>Redirect when stuck</strong> (if discussion stalls, use a quote or concept to restart) 4. <strong>Identify misconceptions</strong> (watch for the common pitfalls listed)</p>
<p><strong>DO NOT:</strong> Read these answers verbatim to students. Let them struggle toward these ideas through discussion.</p>
<hr>
</section>
<section id="question-1-the-planimeter-challenge-apply-axiom-6-direct-perception" class="level2">
<h2 class="anchored" data-anchor-id="question-1-the-planimeter-challenge-apply-axiom-6-direct-perception">Question 1: The Planimeter Challenge (Apply Axiom 6: Direct Perception)</h2>
<section id="setup" class="level3">
<h3 class="anchored" data-anchor-id="setup">Setup</h3>
<p>“The Polar Planimeter measures <em>area</em> without measuring length or width. It doesn’t compute—it resonates with geometry.”</p>
</section>
<section id="question" class="level3">
<h3 class="anchored" data-anchor-id="question">Question</h3>
<p>In the Ebbinghaus demo, your <strong>hand</strong> got the size right (Peak Grip Aperture scaled to actual size), but your <strong>voice</strong> reported the illusion. Using the Planimeter metaphor, what “higher-order property” was your hand <em>directly detecting</em> that your judgment task missed? Why can’t we just say “the hand is smarter”?</p>
<hr>
</section>
<section id="theoretical-answer-based-on-blau-wagman" class="level3">
<h3 class="anchored" data-anchor-id="theoretical-answer-based-on-blau-wagman">Theoretical Answer (Based on Blau &amp; Wagman)</h3>
<p>The hand-action system and the conscious-judgment system are tuned to detect <strong>different properties</strong> of the environment. The judgment task prompts detection of a <strong>physics-based, lower-order variable</strong> (“size”), which is susceptible to the illusion created by misleading contextual cues. The hand, preparing for action (grasping), “resonates” with a <strong>higher-order, action-based property: graspability</strong>. This property is an invariant relationship between the object and the body, specified directly and unambiguously in the ambient light.</p>
<p><strong>The hand is not “smarter”</strong>—rather, the entire organism-environment system is tasked with perceiving an affordance, and it does so by directly detecting a higher-order variable that is immune to the illusion.</p>
</section>
<section id="key-quotes" class="level3">
<h3 class="anchored" data-anchor-id="key-quotes">Key Quotes</h3>
<p><strong>Ch 3, p.&nbsp;45:</strong> &gt; “The polar planimeter does not and cannot measure length and width… the tool measures area directly, not by computing it out of other measurements.”</p>
<p><strong>Ch 3, p.&nbsp;45:</strong> &gt; “Fred is like the polar planimeter—capable of detecting a higher-order variable directly without relying on… lower-order variables.”</p>
<p><strong>Ch 3, p.&nbsp;45 (Affordances):</strong> &gt; “In short, we should be asking about walk-on-able, reachable, and graspable. Gibson (1979/2015) called these affordances and argued that they should be the primary variables of perception.”</p>
<hr>
</section>
<section id="key-concepts-students-should-grasp" class="level3">
<h3 class="anchored" data-anchor-id="key-concepts-students-should-grasp">Key Concepts Students Should Grasp</h3>
<ol type="1">
<li><p><strong>Higher-Order vs.&nbsp;Lower-Order Variables:</strong></p>
<ul>
<li><strong>Lower-order:</strong> Basic physical properties (length, wavelength, brightness)</li>
<li><strong>Higher-order:</strong> Relationships or patterns that emerge from them (area, texture, graspability)</li>
</ul></li>
<li><p><strong>Direct Perception (Axiom 6):</strong> We perceive meaningful properties of the environment directly, without needing to first sense meaningless data and then “enrich” it with cognitive computation.</p></li>
<li><p><strong>Affordances:</strong> What the environment offers, provides, or furnishes the animal for action (e.g., a surface is “walk-on-able,” an object is “graspable”).</p></li>
</ol>
<hr>
</section>
<section id="common-misconceptions-to-watch-for" class="level3">
<h3 class="anchored" data-anchor-id="common-misconceptions-to-watch-for">Common Misconceptions to Watch For</h3>
<p>❌ <strong>“The hand is smarter”</strong> - Students might personify the hand, implying it has its own brain (a homunculus). - <strong>Redirect:</strong> The <em>entire perceptual system</em> is simply tasked with something different (preparing to act vs.&nbsp;making a judgment) and thus picks up different information.</p>
<p>❌ <strong>“The hand calculates the real size”</strong> - The point of the planimeter metaphor is the <em>absence</em> of calculation. - <strong>Redirect:</strong> The hand doesn’t calculate; it directly detects “graspability.”</p>
<hr>
</section>
</section>
<section id="question-2-axiom-3-organisms-are-active-vs.-static-illusions" class="level2">
<h2 class="anchored" data-anchor-id="question-2-axiom-3-organisms-are-active-vs.-static-illusions">Question 2: Axiom 3 (Organisms are Active) vs.&nbsp;Static Illusions</h2>
<section id="setup-1" class="level3">
<h3 class="anchored" data-anchor-id="setup-1">Setup</h3>
<p>“Axiom 3 says organisms are <em>active</em>, not passive. Movement structures information.”</p>
</section>
<section id="question-1" class="level3">
<h3 class="anchored" data-anchor-id="question-1">Question</h3>
<p>The Ebbinghaus illusion works in a static 2D image. What would happen if you could <strong>walk around</strong> a 3D version of the illusion, or <strong>rotate</strong> the object? Would the illusion persist? What does this tell us about the <em>type</em> of information pickup the Standard Story focuses on versus what Ecological Psychology values?</p>
<hr>
</section>
<section id="theoretical-answer-based-on-blau-wagman-1" class="level3">
<h3 class="anchored" data-anchor-id="theoretical-answer-based-on-blau-wagman-1">Theoretical Answer (Based on Blau &amp; Wagman)</h3>
<p>If an observer could walk around a 3D version of the Ebbinghaus illusion, <strong>the illusion would collapse</strong>. According to Axiom 3, organisms are active explorers, and movement is “<strong>the feature, not the bug</strong>” of perception. Movement generates a continuous flow of optical information, creating changing patterns (<strong>variants</strong>). However, this exploration also reveals properties that do not change (<strong>invariants</strong>), which specify the true size and distance of objects.</p>
<p>A static 2D image freezes the scene, presenting only one ambiguous “snapshot.” <strong>The Standard Story focuses on analyzing these impoverished static images.</strong> Ecological Psychology values the rich, unambiguous information that is only available to an active, moving organism over time.</p>
</section>
<section id="key-quotes-1" class="level3">
<h3 class="anchored" data-anchor-id="key-quotes-1">Key Quotes</h3>
<p><strong>Ch 3, p.&nbsp;48 (Axiom 3):</strong> &gt; “Organisms are active, not passive.”</p>
<p><strong>Ch 3, p.&nbsp;49 (Beuchet chair illusion):</strong> &gt; “The Beuchet chair illusion only persists if the observer stays still—even a small movement reveals the unusual layout of objects and surfaces and the actual sizes and distances of the objects occupying the space. Movement is what allows for the distinction between variants and invariants.”</p>
<p><strong>Ch 3, p.&nbsp;42:</strong> &gt; “If perception is not of a series of static glimpses but instead an extended and continuous process that unfolds over time, then Fred’s movement will reveal information about the tree.”</p>
<hr>
</section>
<section id="key-concepts-students-should-grasp-1" class="level3">
<h3 class="anchored" data-anchor-id="key-concepts-students-should-grasp-1">Key Concepts Students Should Grasp</h3>
<ol type="1">
<li><p><strong>Active Perception:</strong> Perception is not a passive reception of stimuli but an active process of exploring the environment.</p></li>
<li><p><strong>Variants and Invariants:</strong></p>
<ul>
<li>As we move, some aspects of the optical array change (<strong>variants</strong>)</li>
<li>Others (the information specifying reality) remain stable (<strong>invariants</strong>)</li>
<li><strong>Perception is the pickup of invariants</strong></li>
</ul></li>
<li><p><strong>Information in Optic Flow:</strong> Movement creates structured patterns of light (expansion, occlusion, texture gradients) that unambiguously specify environmental properties.</p></li>
</ol>
<hr>
</section>
<section id="common-misconceptions-to-watch-for-1" class="level3">
<h3 class="anchored" data-anchor-id="common-misconceptions-to-watch-for-1">Common Misconceptions to Watch For</h3>
<p>❌ <strong>“Movement is a problem”</strong> - Students might think movement makes perception harder because it “blurs” the image. - <strong>Redirect:</strong> The ecological point is the opposite: movement <em>creates</em> the very information needed for accurate perception.</p>
<p>❌ <strong>“The brain averages multiple views”</strong> - This is still a computational metaphor. - <strong>Redirect:</strong> The ecological claim is more radical: the structure within the changing light <em>is</em> the information and is detected directly.</p>
<hr>
</section>
</section>
<section id="question-3-axiom-9-no-central-executive-and-the-homunculus-problem" class="level2">
<h2 class="anchored" data-anchor-id="question-3-axiom-9-no-central-executive-and-the-homunculus-problem">Question 3: Axiom 9 (No Central Executive) and the Homunculus Problem</h2>
<section id="setup-2" class="level3">
<h3 class="anchored" data-anchor-id="setup-2">Setup</h3>
<p>“Axiom 9: There is no ‘mini-person in the head’ interpreting sensory data.”</p>
</section>
<section id="question-2" class="level3">
<h3 class="anchored" data-anchor-id="question-2">Question</h3>
<p>If your brain <strong>built a mental picture</strong> of the Ebbinghaus circles (the Standard Story), and that picture was <em>wrong</em> (the illusion), who or what would need to “correct” it so your hand could grasp accurately? How does the ecological solution (direct pickup of graspability) avoid this infinite regress?</p>
<hr>
</section>
<section id="theoretical-answer-based-on-blau-wagman-2" class="level3">
<h3 class="anchored" data-anchor-id="theoretical-answer-based-on-blau-wagman-2">Theoretical Answer (Based on Blau &amp; Wagman)</h3>
<p>If the brain built a “wrong” mental picture that the hand needed to override, it would require an <strong>internal agent (a homunculus, or “mini-person in the head”)</strong> to see the mistake, access the “correct” information, and issue a correction. This immediately leads to an <strong>infinite regress</strong>: what allows the homunculus to see correctly? Does it have its own brain?</p>
<p>The ecological solution avoids this problem entirely by <strong>rejecting both the mental picture and the executive interpreter</strong> (Axiom 9). There is no representation to be corrected. The action system is not guided by a picture of the world but by the <strong>direct pickup of lawfully structured information</strong> that specifies affordances (like graspability). Because this information is unambiguous and specific to the organism-environment relationship, there is no need for an intelligent executive to interpret it. <strong>Perception is detection, not interpretation.</strong></p>
</section>
<section id="key-quotes-2" class="level3">
<h3 class="anchored" data-anchor-id="key-quotes-2">Key Quotes</h3>
<p><strong>Ch 4, p.&nbsp;56 (Infinite Regress):</strong> &gt; “If we posit the central executive as the mover of Claudia… we still have to answer this question: what moved Claudia’s central executive? All we have done is push the question back a step.”</p>
<p><strong>Ch 3, p.&nbsp;52 (Axiom 9):</strong> &gt; “There is no central executive… Much like how the polar planimeter can measure area without computation, Fred can perceive the graspability of the apple without complex mental calculations.”</p>
<p><strong>Ch 4, p.&nbsp;56:</strong> &gt; “To achieve explanation and not merely description, we have to banish the central executive entirely.” (See Figure 4.1 for visual demonstration)</p>
<hr>
</section>
<section id="key-concepts-students-should-grasp-2" class="level3">
<h3 class="anchored" data-anchor-id="key-concepts-students-should-grasp-2">Key Concepts Students Should Grasp</h3>
<ol type="1">
<li><p><strong>Homunculus Problem:</strong> The fallacy of explaining a phenomenon by invoking a smaller version of that same phenomenon (e.g., explaining sight by positing a “little man” inside who sees).</p></li>
<li><p><strong>Mental Representations:</strong> The “Standard Story” view that we perceive the world indirectly by creating an internal copy or model of it. Ecological psychology rejects this.</p></li>
<li><p><strong>No Central Executive (Axiom 9):</strong> The principle that behavior is not governed by a single, intelligent controller but emerges from the self-organizing interactions within the organism-environment system.</p></li>
</ol>
<hr>
</section>
<section id="common-misconceptions-to-watch-for-2" class="level3">
<h3 class="anchored" data-anchor-id="common-misconceptions-to-watch-for-2">Common Misconceptions to Watch For</h3>
<p>❌ <strong>“Brain = Central Executive”</strong> - Students may think rejecting the homunculus means denying the brain’s importance. - <strong>Redirect:</strong> The ecological view is that the brain is a critical component of the perceptual system, but it functions as a detector and part of a self-organizing system, not as a top-down commander.</p>
<p>❌ <strong>“But I <em>feel</em> like there’s a ‘me’ in my head!”</strong> - This subjective experience is compelling but not a valid scientific explanation. - <strong>Acknowledge (Ch 4, p.&nbsp;55):</strong> “It is a compelling notion that we inhabit our bodies like a person inhabiting a house.” The goal of the theory is to explain function, not just describe subjective experience.</p>
<hr>
</section>
</section>
<section id="question-4-physics-based-vs.-action-based-variables-bridge-to-ambient-light" class="level2">
<h2 class="anchored" data-anchor-id="question-4-physics-based-vs.-action-based-variables-bridge-to-ambient-light">Question 4: Physics-Based vs.&nbsp;Action-Based Variables (Bridge to Ambient Light)</h2>
<section id="setup-3" class="level3">
<h3 class="anchored" data-anchor-id="setup-3">Setup</h3>
<p>“Axiom 8 says perception uses <em>action-based</em> variables (graspable, climbable), not <em>physics-based</em> ones (centimeters, wavelengths).”</p>
</section>
<section id="question-3" class="level3">
<h3 class="anchored" data-anchor-id="question-3">Question</h3>
<p>In the Ebbinghaus task, we asked you to <strong>compare sizes</strong> (physics-based: “Which is bigger?”). But in the grasping task, your hand didn’t need to know “size”—it needed to know <strong>graspability</strong>. On Thursday, we’ll argue that light itself carries <em>structure</em> (angles, flow, texture gradients), not just “brightness.” What might it mean for light to specify an <em>affordance</em> (like “walk-on-able floor”) instead of just triggering a sensation?</p>
<hr>
</section>
<section id="theoretical-answer-based-on-blau-wagman-3" class="level3">
<h3 class="anchored" data-anchor-id="theoretical-answer-based-on-blau-wagman-3">Theoretical Answer (Based on Blau &amp; Wagman)</h3>
<p>The comparison task (“Which is bigger?”) forces a perception of <strong>physics-based variables</strong> (e.g., geometric size in centimeters), which are abstract and prone to illusion. The grasping task, however, engages the system with <strong>action-based variables</strong> (Axiom 8). The hand needs to know the object’s <strong>graspability</strong>—a variable defined by the relationship between the object’s size and the hand’s capacity to act.</p>
<p>For light to specify an affordance means that <strong>the ambient light array is not just a collection of brightness values but is inherently <em>structured</em>.</strong> This structure (patterns of texture, angles, flow) lawfully specifies the action possibilities of the environment. Light does not just “trigger” a sensation of brightness; it <strong>carries information that directly specifies affordances</strong> like a “walk-on-able” floor or a “graspable” object. The information is in the structure of the light itself, not in a subsequent cognitive interpretation.</p>
</section>
<section id="key-quotes-3" class="level3">
<h3 class="anchored" data-anchor-id="key-quotes-3">Key Quotes</h3>
<p><strong>Ch 3, p.&nbsp;51 (Axiom 8):</strong> &gt; “Variables of perception should be action-based, not physics-based.”</p>
<p><strong>Ch 3, p.&nbsp;52 (Being used for wrong function):</strong> &gt; “We are like the polar planimeter being asked to measure length and width—being used for a function for which we were not designed.”</p>
<p><strong>Ch 3, p.&nbsp;46 (Medium vs.&nbsp;Message):</strong> &gt; “The medium is not the message. Or in other words, what we perceive is not light; it is whether the apple can be grasped.”</p>
<p><strong>Ch 3, p.&nbsp;46 (Box 3.2):</strong> &gt; “We never see light. We see illuminated surfaces.”</p>
<hr>
</section>
<section id="key-concepts-students-should-grasp-3" class="level3">
<h3 class="anchored" data-anchor-id="key-concepts-students-should-grasp-3">Key Concepts Students Should Grasp</h3>
<ol type="1">
<li><p><strong>Action-Based Variables (Affordances):</strong> Properties of the environment defined relative to an organism’s ability to act (e.g., climbable, passable, graspable).</p></li>
<li><p><strong>Physics-Based Variables:</strong> Objective, organism-independent properties from classical physics and geometry (e.g., meters, kilograms, angles).</p></li>
<li><p><strong>Structured Light:</strong> The idea that the patterns of light reflecting from surfaces are not random but contain a lawful structure that is specific to the properties of those surfaces and what they afford.</p></li>
</ol>
<hr>
</section>
<section id="common-misconceptions-to-watch-for-3" class="level3">
<h3 class="anchored" data-anchor-id="common-misconceptions-to-watch-for-3">Common Misconceptions to Watch For</h3>
<p>❌ <strong>“Light is just energy”</strong> - Students might think of light only in physics terms (photons, wavelengths). - <strong>Redirect:</strong> This energy is <em>structured</em> by the environment and this structure <em>is</em> information.</p>
<p>❌ <strong>“Affordances are inferred”</strong> - Easy to slip back into the Standard Story: “I see the floor, then I infer that it’s walk-on-able.” - <strong>Redirect:</strong> The ecological claim is that “walk-on-able” is perceived as directly as color or shape.</p>
<hr>
</section>
</section>
<section id="facilitation-tips-across-all-questions" class="level2">
<h2 class="anchored" data-anchor-id="facilitation-tips-across-all-questions">Facilitation Tips Across All Questions</h2>
<section id="if-discussion-stalls" class="level3">
<h3 class="anchored" data-anchor-id="if-discussion-stalls">If Discussion Stalls:</h3>
<ol type="1">
<li><strong>Return to the demo:</strong> “What did you observe in your own hand during the Ebbinghaus task?”</li>
<li><strong>Use a quote:</strong> Read a key passage from Blau &amp; Wagman and ask: “What does this mean?”</li>
<li><strong>Ask for examples:</strong> “Can you think of another situation where this would apply?”</li>
</ol>
</section>
<section id="if-students-give-standard-story-answers" class="level3">
<h3 class="anchored" data-anchor-id="if-students-give-standard-story-answers">If Students Give Standard Story Answers:</h3>
<ul>
<li><strong>Don’t shut them down.</strong> Say: “That’s the traditional view. How does the ecological approach differ?”</li>
<li>Use the contrast to highlight the ecological alternative.</li>
</ul>
</section>
<section id="if-students-nail-it" class="level3">
<h3 class="anchored" data-anchor-id="if-students-nail-it">If Students Nail It:</h3>
<ul>
<li><strong>Affirm and extend:</strong> “Yes! And what does that tell us about [next concept]?”</li>
<li>Connect to Thursday’s topic (Ecological Optics)</li>
</ul>
</section>
<section id="time-management" class="level3">
<h3 class="anchored" data-anchor-id="time-management">Time Management:</h3>
<ul>
<li>Q1: 8 min (Most concrete)</li>
<li>Q2: 7 min (Builds on Q1)</li>
<li>Q3: 8 min (Hardest—allow extra time)</li>
<li>Q4: 7 min (Bridge to Thursday)</li>
</ul>
<p>If running over, prioritize Q1 and Q3 (most conceptually central). Q2 and Q4 can be shorter.</p>
<hr>
</section>
</section>
<section id="after-the-discussion" class="level2">
<h2 class="anchored" data-anchor-id="after-the-discussion">After the Discussion</h2>
<section id="reflect" class="level3">
<h3 class="anchored" data-anchor-id="reflect">Reflect:</h3>
<ul>
<li>Which question generated the best discussion?</li>
<li>Which misconceptions were most persistent?</li>
<li>What needs re-teaching on Thursday?</li>
</ul>
</section>
<section id="connect-to-thursday" class="level3">
<h3 class="anchored" data-anchor-id="connect-to-thursday">Connect to Thursday:</h3>
<ul>
<li>Use Q4 as the bridge: “On Thursday, we’ll explore how light’s structure specifies affordances. We’ll talk about ambient arrays and optic flow.”</li>
</ul>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>